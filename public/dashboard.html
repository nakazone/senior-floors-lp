<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1a2036">
    <title>Senior Floors - Dashboard</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <header class="dashboard-header">
            <div class="header-content">
                <button class="mobile-menu-toggle" id="mobileMenuToggle">‚ò∞</button>
                <h1>
                    <a href="dashboard.html">
                        <img src="https://senior-floors.com/assets/SeniorFloors.png" alt="Senior Floors" class="logo-image" onerror="this.style.display='none'">
                        <span class="mobile-hidden">Senior Floors CRM</span>
                        <span class="mobile-only">CRM</span>
                    </a>
                </h1>
                <div class="header-actions">
                    <span id="userName" class="user-name mobile-hidden"></span>
                    <button id="logoutBtn" class="btn btn-secondary">Logout</button>
                </div>
            </div>
        </header>
        
        <div class="mobile-overlay" id="mobileOverlay"></div>
        
        <main class="dashboard-main">
            <div class="dashboard-sidebar" id="dashboardSidebar">
                <nav class="sidebar-nav">
                    <a href="#" class="nav-item active" data-page="dashboard">
                        <span>üìä</span> Dashboard
                    </a>
                    <a href="#" class="nav-item" data-page="leads">
                        <span>üìã</span> Leads
                    </a>
                    <a href="#" class="nav-item" data-page="customers">
                        <span>üë•</span> Customers
                    </a>
                    <a href="#" class="nav-item" data-page="quotes">
                        <span>üí∞</span> Quotes
                    </a>
                    <a href="#" class="nav-item" data-page="projects">
                        <span>üèóÔ∏è</span> Projects
                    </a>
                    <a href="#" class="nav-item" data-page="schedule">
                        <span>üìÖ</span> Schedule
                    </a>
                    <a href="#" class="nav-item" data-page="financeiro">
                        <span>üíµ</span> Financeiro
                    </a>
                    <a href="#" class="nav-item" data-page="activities">
                        <span>üìù</span> Activities
                    </a>
                    <a href="#" class="nav-item" data-page="users">
                        <span>üë§</span> Users
                    </a>
                </nav>
            </div>
            
            <div class="dashboard-content">
                <div id="loading" class="loading" style="display: none;">Loading...</div>
                <div id="error" class="error-message" style="display: none;"></div>
                
                <!-- Dashboard Page -->
                <div id="dashboardPage" class="page-content">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--spacing-md);">
                        <h2 class="page-title">Dashboard</h2>
                        <button class="btn btn-primary" onclick="loadDashboard()">üîÑ Refresh</button>
                    </div>
                    
                    <div id="dashboardStats" class="stats-grid">
                        <!-- Stats ser√£o carregadas aqui -->
                    </div>
                    
                    <div class="charts-container">
                        <div class="chart-card">
                            <h3>Leads por Status</h3>
                            <div class="chart-container">
                                <canvas id="leadsStatusChart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <h3>Leads por M√™s</h3>
                            <div class="chart-container">
                                <canvas id="leadsMonthlyChart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <h3>Receita Projetada</h3>
                            <div class="chart-container">
                                <canvas id="revenueChart"></canvas>
                            </div>
                        </div>
                        <div class="chart-card">
                            <h3>Performance por Vendedor</h3>
                            <div class="chart-container">
                                <canvas id="salesPerformanceChart"></canvas>
                            </div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: var(--spacing-md); margin-top: var(--spacing-md);">
                        <div class="chart-card">
                            <h3>Leads Recentes</h3>
                            <div id="recentLeads" style="max-height: 400px; overflow-y: auto;"></div>
                        </div>
                        <div class="chart-card">
                            <h3>Visitas Pr√≥ximas</h3>
                            <div id="upcomingVisits" style="max-height: 400px; overflow-y: auto;"></div>
                        </div>
                    </div>
                </div>
                
                <!-- Leads Page -->
                <div id="leadsPage" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h2>Leads</h2>
                        <button class="btn btn-primary" onclick="refreshLeads()">Refresh</button>
                    </div>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Zipcode</th>
                                    <th>Status</th>
                                    <th>Source</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="leadsTableBody">
                                <tr><td colspan="9" class="text-center">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="pagination">
                        <button id="prevPageLeads" class="btn btn-secondary" onclick="changePageLeads(-1)">Previous</button>
                        <span id="pageInfoLeads">Page 1</span>
                        <button id="nextPageLeads" class="btn btn-secondary" onclick="changePageLeads(1)">Next</button>
                    </div>
                </div>
                
                <!-- Customers Page -->
                <div id="customersPage" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h2>Customers</h2>
                        <button class="btn btn-primary" onclick="showNewCustomerModal()">+ New Customer</button>
                    </div>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>City</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="customersTableBody">
                                <tr><td colspan="9" class="text-center">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="pagination">
                        <button id="prevPageCustomers" class="btn btn-secondary" onclick="changePageCustomers(-1)">Previous</button>
                        <span id="pageInfoCustomers">Page 1</span>
                        <button id="nextPageCustomers" class="btn btn-secondary" onclick="changePageCustomers(1)">Next</button>
                    </div>
                </div>
                
                <!-- Quotes Page -->
                <div id="quotesPage" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h2>Quotes</h2>
                        <button class="btn btn-primary" onclick="showNewQuoteModal()">+ New Quote</button>
                    </div>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Quote #</th>
                                    <th>Customer</th>
                                    <th>Amount</th>
                                    <th>Status</th>
                                    <th>Created</th>
                                    <th>Expires</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="quotesTableBody">
                                <tr><td colspan="7" class="text-center">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="pagination">
                        <button id="prevPageQuotes" class="btn btn-secondary" onclick="changePageQuotes(-1)">Previous</button>
                        <span id="pageInfoQuotes">Page 1</span>
                        <button id="nextPageQuotes" class="btn btn-secondary" onclick="changePageQuotes(1)">Next</button>
                    </div>
                </div>
                
                <!-- Projects Page -->
                <div id="projectsPage" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h2>Projects</h2>
                        <button class="btn btn-primary" onclick="showNewProjectModal()">+ New Project</button>
                    </div>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Customer</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                    <th>Est. Cost</th>
                                    <th>Start Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="projectsTableBody">
                                <tr><td colspan="8" class="text-center">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="pagination">
                        <button id="prevPageProjects" class="btn btn-secondary" onclick="changePageProjects(-1)">Previous</button>
                        <span id="pageInfoProjects">Page 1</span>
                        <button id="nextPageProjects" class="btn btn-secondary" onclick="changePageProjects(1)">Next</button>
                    </div>
                </div>
                
                <!-- Schedule Page -->
                <div id="schedulePage" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h2>Schedule / Visits</h2>
                        <button class="btn btn-primary" onclick="showNewVisitModal()">+ Schedule Visit</button>
                    </div>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Date/Time</th>
                                    <th>Lead/Customer</th>
                                    <th>Project</th>
                                    <th>Seller</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="visitsTableBody">
                                <tr><td colspan="7" class="text-center">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="pagination">
                        <button id="prevPageVisits" class="btn btn-secondary" onclick="changePageVisits(-1)">Previous</button>
                        <span id="pageInfoVisits">Page 1</span>
                        <button id="nextPageVisits" class="btn btn-secondary" onclick="changePageVisits(1)">Next</button>
                    </div>
                </div>
                
                <!-- Financeiro Page -->
                <div id="financeiroPage" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h2>Financeiro / Contracts</h2>
                        <button class="btn btn-primary" onclick="showNewContractModal()">+ New Contract</button>
                    </div>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Customer</th>
                                    <th>Project</th>
                                    <th>Amount</th>
                                    <th>Payment Method</th>
                                    <th>Installments</th>
                                    <th>Start Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="contractsTableBody">
                                <tr><td colspan="8" class="text-center">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="pagination">
                        <button id="prevPageContracts" class="btn btn-secondary" onclick="changePageContracts(-1)">Previous</button>
                        <span id="pageInfoContracts">Page 1</span>
                        <button id="nextPageContracts" class="btn btn-secondary" onclick="changePageContracts(1)">Next</button>
                    </div>
                </div>
                
                <!-- Activities Page -->
                <div id="activitiesPage" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h2>Activities</h2>
                        <button class="btn btn-primary" onclick="showNewActivityModal()">+ New Activity</button>
                    </div>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>Type</th>
                                    <th>Subject</th>
                                    <th>Related To</th>
                                    <th>User</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="activitiesTableBody">
                                <tr><td colspan="6" class="text-center">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="pagination">
                        <button id="prevPageActivities" class="btn btn-secondary" onclick="changePageActivities(-1)">Previous</button>
                        <span id="pageInfoActivities">Page 1</span>
                        <button id="nextPageActivities" class="btn btn-secondary" onclick="changePageActivities(1)">Next</button>
                    </div>
                </div>
                
                <!-- Users Page -->
                <div id="usersPage" class="page-content" style="display: none;">
                    <div class="page-header">
                        <h2>Users</h2>
                        <button class="btn btn-primary" onclick="showNewUserModal()">+ New User</button>
                    </div>
                    
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Name</th>
                                    <th>Email</th>
                                    <th>Phone</th>
                                    <th>Role</th>
                                    <th>Status</th>
                                    <th>Created</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <tr><td colspan="8" class="text-center">Loading...</td></tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="pagination">
                        <button id="prevPageUsers" class="btn btn-secondary" onclick="changePageUsers(-1)">Previous</button>
                        <span id="pageInfoUsers">Page 1</span>
                        <button id="nextPageUsers" class="btn btn-secondary" onclick="changePageUsers(1)">Next</button>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <script src="dashboard.js"></script>
</body>
</html>
